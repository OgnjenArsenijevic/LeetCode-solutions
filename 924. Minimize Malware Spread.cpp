///924. Minimize Malware Spread
///Author: Ognjen Arsenijevic
///username: ognjen1998
class Solution 
{
public:
    bool vis[305];
    bool infected[305];
    int arr[305];
    int num, virus;
    void dfs(int u, vector<vector<int>>& g)
    {
        vis[u]=true;
        num++;
        if(infected[u]) virus++;
        for(int i=0;i<g[u].size();i++)
        {
            if(!vis[i]  && g[u][i]==1)
                dfs(i,g);
        }
    }
    int minMalwareSpread(vector<vector<int>>& g, vector<int>& initial) 
    {
        for(int i=0;i<initial.size();i++)
            infected[initial[i]]=true;
        sort(initial.begin(),initial.end());
        for(int i=0;i<initial.size();i++)
        {
            if(!vis[initial[i]])
            {
                num=0;
                virus=0;
                dfs(initial[i],g);
                if(virus<2)
                    arr[initial[i]]=num;
            }
        }
        int ans=0,maxi=INT_MIN;
        for(int i=0;i<initial.size();i++)
        {
            if(arr[initial[i]]>maxi)
            {
                maxi=arr[initial[i]];
                ans=i;
            }
        }
        return initial[ans];
    }
};
